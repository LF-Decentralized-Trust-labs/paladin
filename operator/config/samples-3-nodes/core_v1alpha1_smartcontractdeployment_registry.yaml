apiVersion: core.paladin.io/v1alpha1
kind: SmartContractDeployment
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: operator-go
  name: registry
spec:
  abiJSON: |-
    [
      {
        "inputs": [],
        "outputs": null,
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "parentIdentityHash",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "owner",
            "type": "address"
          }
        ],
        "name": "IdentityRegistered",
        "outputs": null,
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "name": "PropertySet",
        "outputs": null,
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          }
        ],
        "name": "getIdentity",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "parent",
                "type": "bytes32"
              },
              {
                "internalType": "bytes32[]",
                "name": "children",
                "type": "bytes32[]"
              },
              {
                "internalType": "string",
                "name": "name",
                "type": "string"
              },
              {
                "internalType": "address",
                "name": "owner",
                "type": "address"
              }
            ],
            "internalType": "struct IdentityRegistry.Identity",
            "name": "identity",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "propertyNameHash",
            "type": "bytes32"
          }
        ],
        "name": "getIdentityPropertyByHash",
        "outputs": [
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          }
        ],
        "name": "getIdentityPropertyValueByName",
        "outputs": [
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "getRootIdentity",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "parent",
                "type": "bytes32"
              },
              {
                "internalType": "bytes32[]",
                "name": "children",
                "type": "bytes32[]"
              },
              {
                "internalType": "string",
                "name": "name",
                "type": "string"
              },
              {
                "internalType": "address",
                "name": "owner",
                "type": "address"
              }
            ],
            "internalType": "struct IdentityRegistry.Identity",
            "name": "identity",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          }
        ],
        "name": "listIdentityPropertyHashes",
        "outputs": [
          {
            "internalType": "bytes32[]",
            "name": "hashes",
            "type": "bytes32[]"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "parentIdentityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "owner",
            "type": "address"
          }
        ],
        "name": "registerIdentity",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "name": "setIdentityProperty",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ]
  bytecode: 0x608060405234801561001057600080fd5b506040805160808101825260008082528251818152602080820185528084019182528451808601865260048152631c9bdbdd60e21b8183015294840194909452336060840152818052908352815160008051602061165e83398151915290815590518051929384936100939260008051602061167e833981519152920190610253565b50604082015160028201906100a89082610352565b5060609190910151600390910180546001600160a01b0319166001600160a01b03909216919091179055805160408083015190517f3d53136f51ff700c3bd3048163e7b95ffaf4195cb3e8366fbd351df9bd117cfe9291600291610110918491602001610434565b60408051601f198184030181529082905261012a9161045a565b602060405180830381855afa158015610147573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061016a9190610476565b83604001518460600151604051610184949392919061048f565b60405180910390a16040805160808101825260008082528251818152602080820185528084019182528451808601865260048152631c9bdbdd60e21b8183015294840194909452336060840152818052908352815160008051602061165e833981519152908155905180519293919261020e9260008051602061167e833981519152920190610253565b50604082015160028201906102239082610352565b5060609190910151600390910180546001600160a01b0319166001600160a01b03909216919091179055506104e1565b82805482825590600052602060002090810192821561028e579160200282015b8281111561028e578251825591602001919060010190610273565b5061029a92915061029e565b5090565b5b8082111561029a576000815560010161029f565b634e487b7160e01b600052604160045260246000fd5b600181811c908216806102dd57607f821691505b6020821081036102fd57634e487b7160e01b600052602260045260246000fd5b50919050565b601f82111561034d57806000526020600020601f840160051c8101602085101561032a5750805b601f840160051c820191505b8181101561034a5760008155600101610336565b50505b505050565b81516001600160401b0381111561036b5761036b6102b3565b61037f8161037984546102c9565b84610303565b6020601f8211600181146103b3576000831561039b5750848201515b600019600385901b1c1916600184901b17845561034a565b600084815260208120601f198516915b828110156103e357878501518255602094850194600190920191016103c3565b50848210156104015786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b60005b8381101561042b578181015183820152602001610413565b50506000910152565b8281526000825161044c816020850160208701610410565b919091016020019392505050565b6000825161046c818460208701610410565b9190910192915050565b60006020828403121561048857600080fd5b5051919050565b84815283602082015260806040820152600083518060808401526104ba8160a0850160208801610410565b6001600160a01b0393909316606083015250601f91909101601f19160160a0019392505050565b61116e806104f06000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063665b04d21161005b578063665b04d2146100e157806376e04159146100f45780638b8d314714610109578063a78672121461012957600080fd5b806323ed787c1461008257806339047bb9146100ac578063593a3333146100cc575b600080fd5b610095610090366004610be6565b61013c565b6040516100a3929190610c58565b60405180910390f35b6100bf6100ba366004610c7d565b610303565b6040516100a39190610cd2565b6100df6100da366004610d91565b610365565b005b6100df6100ef366004610e03565b610558565b6100fc6107e9565b6040516100a39190610e6a565b61011c610117366004610ecd565b610967565b6040516100a39190610f14565b6100fc610137366004610c7d565b6109ed565b606080600060026000868152602001908152602001600020600085815260200190815260200160002060405180604001604052908160008201805461018090610f27565b80601f01602080910402602001604051908101604052809291908181526020018280546101ac90610f27565b80156101f95780601f106101ce576101008083540402835291602001916101f9565b820191906000526020600020905b8154815290600101906020018083116101dc57829003601f168201915b5050505050815260200160018201805461021290610f27565b80601f016020809104026020016040519081016040528092919081815260200182805461023e90610f27565b801561028b5780601f106102605761010080835404028352916020019161028b565b820191906000526020600020905b81548152906001019060200180831161026e57829003601f168201915b50505050508152505090506000816000015151116102f05760405162461bcd60e51b815260206004820152601260248201527f50726f7065727479206e6f7420666f756e64000000000000000000000000000060448201526064015b60405180910390fd5b8051602090910151909590945092505050565b60008181526001602090815260409182902080548351818402810184019094528084526060939283018282801561035957602002820191906000526020600020905b815481526020019060010190808311610345575b50505050509050919050565b81516000036103b65760405162461bcd60e51b815260206004820152601460248201527f4e616d652063616e6e6f7420626520656d70747900000000000000000000000060448201526064016102e7565b6000838152602081905260409020600301546001600160a01b0316331461040b5760405162461bcd60e51b81526020600482015260096024820152682337b93134b23232b760b91b60448201526064016102e7565b60006002836040516020016104209190610f61565b60408051601f198184030181529082905261043a91610f61565b602060405180830381855afa158015610457573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061047a9190610f7d565b600085815260026020908152604080832084845290915290208054919250906104a290610f27565b90506000036104f057600084815260026020908152604080832084845290915290206104ce8482610fe5565b5060008481526001602081815260408320805492830181558352909120018190555b600084815260026020908152604080832084845290915290206001016105168382610fe5565b507f1399563bb1c8d7dfc7c4043f42271383bca68e140e5323ec27adbb6907d4d4c984848460405161054a939291906110a4565b60405180910390a150505050565b81516000036105a95760405162461bcd60e51b815260206004820152601460248201527f4e616d652063616e6e6f7420626520656d70747900000000000000000000000060448201526064016102e7565b6000838152602081905260409020600301546001600160a01b031633146105fe5760405162461bcd60e51b81526020600482015260096024820152682337b93134b23232b760b91b60448201526064016102e7565b6000600284846040516020016106159291906110d9565b60408051601f198184030181529082905261062f91610f61565b602060405180830381855afa15801561064c573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061066f9190610f7d565b600081815260208190526040902060020180549192509061068f90610f27565b1590506106de5760405162461bcd60e51b815260206004820152601260248201527f4e616d6520616c72656164792074616b656e000000000000000000000000000060448201526064016102e7565b6040805160808101825285815281516000808252602080830185528084019283528385018890526001600160a01b03871660608501528582528181529390208251815590518051929391926107399260018501920190610b86565b506040820151600282019061074e9082610fe5565b5060609190910151600390910180547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0390921691909117905560008481526020818152604080832060019081018054918201815584529190922001829055517f3d53136f51ff700c3bd3048163e7b95ffaf4195cb3e8366fbd351df9bd117cfe9061054a9086908490879087906110ff565b6040805160808101825260008082526060602083018190529282018390529181019190915260008080526020908152604080516080810182527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5805482527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb68054845181870281018701909552808552929491938583019390928301828280156108b257602002820191906000526020600020905b81548152602001906001019080831161089e575b505050505081526020016002820180546108cb90610f27565b80601f01602080910402602001604051908101604052809291908181526020018280546108f790610f27565b80156109445780601f1061091957610100808354040283529160200191610944565b820191906000526020600020905b81548152906001019060200180831161092757829003601f168201915b5050509183525050600391909101546001600160a01b0316602090910152919050565b6060600060028360405160200161097e9190610f61565b60408051601f198184030181529082905261099891610f61565b602060405180830381855afa1580156109b5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109d89190610f7d565b90506109e4848261013c565b95945050505050565b604080516080810182526000808252606060208301819052928201839052918101919091526000828152602081815260409182902082516080810184528154815260018201805485518186028101860190965280865291949293858101939290830182828015610a7c57602002820191906000526020600020905b815481526020019060010190808311610a68575b50505050508152602001600282018054610a9590610f27565b80601f0160208091040260200160405190810160405280929190818152602001828054610ac190610f27565b8015610b0e5780601f10610ae357610100808354040283529160200191610b0e565b820191906000526020600020905b815481529060010190602001808311610af157829003601f168201915b5050509183525050600391909101546001600160a01b0316602090910152604081015151909150610b815760405162461bcd60e51b815260206004820152601260248201527f4964656e74697479206e6f7420666f756e64000000000000000000000000000060448201526064016102e7565b919050565b828054828255906000526020600020908101928215610bc1579160200282015b82811115610bc1578251825591602001919060010190610ba6565b50610bcd929150610bd1565b5090565b5b80821115610bcd5760008155600101610bd2565b60008060408385031215610bf957600080fd5b50508035926020909101359150565b60005b83811015610c23578181015183820152602001610c0b565b50506000910152565b60008151808452610c44816020860160208601610c08565b601f01601f19169290920160200192915050565b604081526000610c6b6040830185610c2c565b82810360208401526109e48185610c2c565b600060208284031215610c8f57600080fd5b5035919050565b600081518084526020840193506020830160005b82811015610cc8578151865260209586019590910190600101610caa565b5093949350505050565b602081526000610ce56020830184610c96565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610d1357600080fd5b813567ffffffffffffffff811115610d2d57610d2d610cec565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610d5c57610d5c610cec565b604052818152838201602001851015610d7457600080fd5b816020850160208301376000918101602001919091529392505050565b600080600060608486031215610da657600080fd5b83359250602084013567ffffffffffffffff811115610dc457600080fd5b610dd086828701610d02565b925050604084013567ffffffffffffffff811115610ded57600080fd5b610df986828701610d02565b9150509250925092565b600080600060608486031215610e1857600080fd5b83359250602084013567ffffffffffffffff811115610e3657600080fd5b610e4286828701610d02565b92505060408401356001600160a01b0381168114610e5f57600080fd5b809150509250925092565b60208152815160208201526000602083015160806040840152610e9060a0840182610c96565b90506040840151601f19848303016060850152610ead8282610c2c565b9150506001600160a01b0360608501511660808401528091505092915050565b60008060408385031215610ee057600080fd5b82359150602083013567ffffffffffffffff811115610efe57600080fd5b610f0a85828601610d02565b9150509250929050565b602081526000610ce56020830184610c2c565b600181811c90821680610f3b57607f821691505b602082108103610f5b57634e487b7160e01b600052602260045260246000fd5b50919050565b60008251610f73818460208701610c08565b9190910192915050565b600060208284031215610f8f57600080fd5b5051919050565b601f821115610fe057806000526020600020601f840160051c81016020851015610fbd5750805b601f840160051c820191505b81811015610fdd5760008155600101610fc9565b50505b505050565b815167ffffffffffffffff811115610fff57610fff610cec565b6110138161100d8454610f27565b84610f96565b6020601f821160018114611047576000831561102f5750848201515b600019600385901b1c1916600184901b178455610fdd565b600084815260208120601f198516915b828110156110775787850151825560209485019460019092019101611057565b50848210156110955786840151600019600387901b60f8161c191681555b50505050600190811b01905550565b8381526060602082015260006110bd6060830185610c2c565b82810360408401526110cf8185610c2c565b9695505050505050565b828152600082516110f1816020850160208701610c08565b919091016020019392505050565b84815283602082015260806040820152600061111e6080830185610c2c565b90506001600160a01b03831660608301529594505050505056fea264697066735822122025d7537623d7763e53d30d4e2f40c7d87daed9f03c0e605123fa6421d8457bc864736f6c634300081b0033ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb6
  from: registry.operator
  node: node1
  paramsJSON: '{}'
  txType: public
status: {}
