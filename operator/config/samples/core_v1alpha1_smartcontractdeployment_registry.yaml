apiVersion: core.paladin.io/v1alpha1
kind: SmartContractDeployment
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/name: operator-go
  name: registry
spec:
  abiJSON: |-
    [
      {
        "inputs": [],
        "outputs": null,
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "parentIdentityHash",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "owner",
            "type": "address"
          }
        ],
        "name": "IdentityRegistered",
        "outputs": null,
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "name": "PropertySet",
        "outputs": null,
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          }
        ],
        "name": "getIdentity",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "parent",
                "type": "bytes32"
              },
              {
                "internalType": "bytes32[]",
                "name": "children",
                "type": "bytes32[]"
              },
              {
                "internalType": "string",
                "name": "name",
                "type": "string"
              },
              {
                "internalType": "address",
                "name": "owner",
                "type": "address"
              }
            ],
            "internalType": "struct IdentityRegistry.Identity",
            "name": "identity",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "bytes32",
            "name": "propertyNameHash",
            "type": "bytes32"
          }
        ],
        "name": "getIdentityPropertyByHash",
        "outputs": [
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          }
        ],
        "name": "getIdentityPropertyValueByName",
        "outputs": [
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "getRootIdentity",
        "outputs": [
          {
            "components": [
              {
                "internalType": "bytes32",
                "name": "parent",
                "type": "bytes32"
              },
              {
                "internalType": "bytes32[]",
                "name": "children",
                "type": "bytes32[]"
              },
              {
                "internalType": "string",
                "name": "name",
                "type": "string"
              },
              {
                "internalType": "address",
                "name": "owner",
                "type": "address"
              }
            ],
            "internalType": "struct IdentityRegistry.Identity",
            "name": "identity",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          }
        ],
        "name": "listIdentityPropertyHashes",
        "outputs": [
          {
            "internalType": "bytes32[]",
            "name": "hashes",
            "type": "bytes32[]"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "parentIdentityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "address",
            "name": "owner",
            "type": "address"
          }
        ],
        "name": "registerIdentity",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "bytes32",
            "name": "identityHash",
            "type": "bytes32"
          },
          {
            "internalType": "string",
            "name": "name",
            "type": "string"
          },
          {
            "internalType": "string",
            "name": "value",
            "type": "string"
          }
        ],
        "name": "setIdentityProperty",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ]
  bytecode: 0x60806040523480156200001157600080fd5b506040805160808101825260008082528251818152602080820185528084019182528451808601865260048152631c9bdbdd60e21b818301529484019490945233606084015281805290835281516000805160206200169383398151915290815590518051929384936200009892600080516020620016b38339815191529201906200026a565b5060408201516002820190620000af908262000376565b5060609190910151600390910180546001600160a01b0319166001600160a01b03909216919091179055805160408083015190517f3d53136f51ff700c3bd3048163e7b95ffaf4195cb3e8366fbd351df9bd117cfe92916002916200011991849160200162000468565b60408051601f1981840301815290829052620001359162000490565b602060405180830381855afa15801562000153573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190620001789190620004ae565b83604001518460600151604051620001949493929190620004c8565b60405180910390a16040805160808101825260008082528251818152602080820185528084019182528451808601865260048152631c9bdbdd60e21b818301529484019490945233606084015281805290835281516000805160206200169383398151915290815590518051929391926200022292600080516020620016b38339815191529201906200026a565b506040820151600282019062000239908262000376565b5060609190910151600390910180546001600160a01b0319166001600160a01b03909216919091179055506200051c565b828054828255906000526020600020908101928215620002a8579160200282015b82811115620002a85782518255916020019190600101906200028b565b50620002b6929150620002ba565b5090565b5b80821115620002b65760008155600101620002bb565b634e487b7160e01b600052604160045260246000fd5b600181811c90821680620002fc57607f821691505b6020821081036200031d57634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200037157600081815260208120601f850160051c810160208610156200034c5750805b601f850160051c820191505b818110156200036d5782815560010162000358565b5050505b505050565b81516001600160401b03811115620003925762000392620002d1565b620003aa81620003a38454620002e7565b8462000323565b602080601f831160018114620003e25760008415620003c95750858301515b600019600386901b1c1916600185901b1785556200036d565b600085815260208120601f198616915b828110156200041357888601518255948401946001909101908401620003f2565b5085821015620004325787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60005b838110156200045f57818101518382015260200162000445565b50506000910152565b828152600082516200048281602085016020870162000442565b919091016020019392505050565b60008251620004a481846020870162000442565b9190910192915050565b600060208284031215620004c157600080fd5b5051919050565b8481528360208201526080604082015260008351806080840152620004f58160a085016020880162000442565b6001600160a01b0393909316606083015250601f91909101601f19160160a0019392505050565b611167806200052c6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063665b04d21161005b578063665b04d2146100e157806376e04159146100f45780638b8d314714610109578063a78672121461012957600080fd5b806323ed787c1461008257806339047bb9146100ac578063593a3333146100cc575b600080fd5b610095610090366004610be6565b61013c565b6040516100a3929190610c58565b60405180910390f35b6100bf6100ba366004610c7d565b610303565b6040516100a39190610cd1565b6100df6100da366004610d8e565b610365565b005b6100df6100ef366004610dfb565b610558565b6100fc6107e9565b6040516100a39190610e62565b61011c610117366004610ec5565b610967565b6040516100a39190610f0c565b6100fc610137366004610c7d565b6109ed565b606080600060026000868152602001908152602001600020600085815260200190815260200160002060405180604001604052908160008201805461018090610f1f565b80601f01602080910402602001604051908101604052809291908181526020018280546101ac90610f1f565b80156101f95780601f106101ce576101008083540402835291602001916101f9565b820191906000526020600020905b8154815290600101906020018083116101dc57829003601f168201915b5050505050815260200160018201805461021290610f1f565b80601f016020809104026020016040519081016040528092919081815260200182805461023e90610f1f565b801561028b5780601f106102605761010080835404028352916020019161028b565b820191906000526020600020905b81548152906001019060200180831161026e57829003601f168201915b50505050508152505090506000816000015151116102f05760405162461bcd60e51b815260206004820152601260248201527f50726f7065727479206e6f7420666f756e64000000000000000000000000000060448201526064015b60405180910390fd5b8051602090910151909590945092505050565b60008181526001602090815260409182902080548351818402810184019094528084526060939283018282801561035957602002820191906000526020600020905b815481526020019060010190808311610345575b50505050509050919050565b81516000036103b65760405162461bcd60e51b815260206004820152601460248201527f4e616d652063616e6e6f7420626520656d70747900000000000000000000000060448201526064016102e7565b6000838152602081905260409020600301546001600160a01b0316331461040b5760405162461bcd60e51b81526020600482015260096024820152682337b93134b23232b760b91b60448201526064016102e7565b60006002836040516020016104209190610f59565b60408051601f198184030181529082905261043a91610f59565b602060405180830381855afa158015610457573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061047a9190610f75565b600085815260026020908152604080832084845290915290208054919250906104a290610f1f565b90506000036104f057600084815260026020908152604080832084845290915290206104ce8482610fdd565b5060008481526001602081815260408320805492830181558352909120018190555b600084815260026020908152604080832084845290915290206001016105168382610fdd565b507f1399563bb1c8d7dfc7c4043f42271383bca68e140e5323ec27adbb6907d4d4c984848460405161054a9392919061109d565b60405180910390a150505050565b81516000036105a95760405162461bcd60e51b815260206004820152601460248201527f4e616d652063616e6e6f7420626520656d70747900000000000000000000000060448201526064016102e7565b6000838152602081905260409020600301546001600160a01b031633146105fe5760405162461bcd60e51b81526020600482015260096024820152682337b93134b23232b760b91b60448201526064016102e7565b6000600284846040516020016106159291906110d2565b60408051601f198184030181529082905261062f91610f59565b602060405180830381855afa15801561064c573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061066f9190610f75565b600081815260208190526040902060020180549192509061068f90610f1f565b1590506106de5760405162461bcd60e51b815260206004820152601260248201527f4e616d6520616c72656164792074616b656e000000000000000000000000000060448201526064016102e7565b6040805160808101825285815281516000808252602080830185528084019283528385018890526001600160a01b03871660608501528582528181529390208251815590518051929391926107399260018501920190610b86565b506040820151600282019061074e9082610fdd565b5060609190910151600390910180547fffffffffffffffffffffffff0000000000000000000000000000000000000000166001600160a01b0390921691909117905560008481526020818152604080832060019081018054918201815584529190922001829055517f3d53136f51ff700c3bd3048163e7b95ffaf4195cb3e8366fbd351df9bd117cfe9061054a9086908490879087906110f8565b6040805160808101825260008082526060602083018190529282018390529181019190915260008080526020908152604080516080810182527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5805482527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb68054845181870281018701909552808552929491938583019390928301828280156108b257602002820191906000526020600020905b81548152602001906001019080831161089e575b505050505081526020016002820180546108cb90610f1f565b80601f01602080910402602001604051908101604052809291908181526020018280546108f790610f1f565b80156109445780601f1061091957610100808354040283529160200191610944565b820191906000526020600020905b81548152906001019060200180831161092757829003601f168201915b5050509183525050600391909101546001600160a01b0316602090910152919050565b6060600060028360405160200161097e9190610f59565b60408051601f198184030181529082905261099891610f59565b602060405180830381855afa1580156109b5573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109d89190610f75565b90506109e4848261013c565b95945050505050565b604080516080810182526000808252606060208301819052928201839052918101919091526000828152602081815260409182902082516080810184528154815260018201805485518186028101860190965280865291949293858101939290830182828015610a7c57602002820191906000526020600020905b815481526020019060010190808311610a68575b50505050508152602001600282018054610a9590610f1f565b80601f0160208091040260200160405190810160405280929190818152602001828054610ac190610f1f565b8015610b0e5780601f10610ae357610100808354040283529160200191610b0e565b820191906000526020600020905b815481529060010190602001808311610af157829003601f168201915b5050509183525050600391909101546001600160a01b0316602090910152604081015151909150610b815760405162461bcd60e51b815260206004820152601260248201527f4964656e74697479206e6f7420666f756e64000000000000000000000000000060448201526064016102e7565b919050565b828054828255906000526020600020908101928215610bc1579160200282015b82811115610bc1578251825591602001919060010190610ba6565b50610bcd929150610bd1565b5090565b5b80821115610bcd5760008155600101610bd2565b60008060408385031215610bf957600080fd5b50508035926020909101359150565b60005b83811015610c23578181015183820152602001610c0b565b50506000910152565b60008151808452610c44816020860160208601610c08565b601f01601f19169290920160200192915050565b604081526000610c6b6040830185610c2c565b82810360208401526109e48185610c2c565b600060208284031215610c8f57600080fd5b5035919050565b600081518084526020808501945080840160005b83811015610cc657815187529582019590820190600101610caa565b509495945050505050565b602081526000610ce46020830184610c96565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610d1257600080fd5b813567ffffffffffffffff80821115610d2d57610d2d610ceb565b604051601f8301601f19908116603f01168101908282118183101715610d5557610d55610ceb565b81604052838152866020858801011115610d6e57600080fd5b836020870160208301376000602085830101528094505050505092915050565b600080600060608486031215610da357600080fd5b83359250602084013567ffffffffffffffff80821115610dc257600080fd5b610dce87838801610d01565b93506040860135915080821115610de457600080fd5b50610df186828701610d01565b9150509250925092565b600080600060608486031215610e1057600080fd5b83359250602084013567ffffffffffffffff811115610e2e57600080fd5b610e3a86828701610d01565b92505060408401356001600160a01b0381168114610e5757600080fd5b809150509250925092565b60208152815160208201526000602083015160806040840152610e8860a0840182610c96565b90506040840151601f19848303016060850152610ea58282610c2c565b9150506001600160a01b0360608501511660808401528091505092915050565b60008060408385031215610ed857600080fd5b82359150602083013567ffffffffffffffff811115610ef657600080fd5b610f0285828601610d01565b9150509250929050565b602081526000610ce46020830184610c2c565b600181811c90821680610f3357607f821691505b602082108103610f5357634e487b7160e01b600052602260045260246000fd5b50919050565b60008251610f6b818460208701610c08565b9190910192915050565b600060208284031215610f8757600080fd5b5051919050565b601f821115610fd857600081815260208120601f850160051c81016020861015610fb55750805b601f850160051c820191505b81811015610fd457828155600101610fc1565b5050505b505050565b815167ffffffffffffffff811115610ff757610ff7610ceb565b61100b816110058454610f1f565b84610f8e565b602080601f83116001811461104057600084156110285750858301515b600019600386901b1c1916600185901b178555610fd4565b600085815260208120601f198616915b8281101561106f57888601518255948401946001909101908401611050565b508582101561108d5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b8381526060602082015260006110b66060830185610c2c565b82810360408401526110c88185610c2c565b9695505050505050565b828152600082516110ea816020850160208701610c08565b919091016020019392505050565b8481528360208201526080604082015260006111176080830185610c2c565b90506001600160a01b03831660608301529594505050505056fea2646970667358221220eb464c31c84fd423b157a3a5f88321adc30ce938fbdcaf4d9c1c4546ce0d532a64736f6c63430008140033ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5ad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb6
  from: registry.operator
  node: node1
  paramsJSON: '{}'
  txType: public
status: {}
